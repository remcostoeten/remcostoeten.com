$hamburger-stripe-width: 20px;
$color: #fff;
$active: #fff;
$spacing: 16px;
$colors: $color--secondary, lighten($color--secondary, 5%),
	lighten($color--secondary, 10%), lighten($color--secondary, 15%);
// $cubic: cubic-bezier(0.09, 0.75, 1, 0.25);
$cubic: ease-out;
$animation-duration: 1000ms;

@keyframes blurFade {
	0% {
		filter: blur(20px);
	}

	100% {
		filter: blur(2px);
	}
}

.offcanvas-open {
	.blob {
		&__one {
			width: 1000px;
			filter: blur(25px);
		}
	}

	.btn--menu {
		animation: showBtn 1s 1s forwards ease-in-out;
		opacity: 0;

		@keyframes showBtn {
			0% {
				transform: translateY(600px);
				opacity: 0;
				blur: 15px;
				scale: 4;
			}

			100% {
				transform: translateY(0);
				opacity: 1;
			}
		}
	}

	.offcanvas-menu {
		&:before {
			animation: menuOpen 1250ms forwards;
		}
		ul {
			opacity: 1;

			@for $i from 1 through 4 {
				li:nth-child(#{$i}) {
					animation-delay: #{$i * 0.1}s;
				}
			}

			li {
				opacity: 0;
				animation: fadeInFromLeft 1500ms 2000ms ease-in-out forwards;
				transform: translateX(0);
				transition: 350ms ease-in-out;
				position: relative;

				&:first-child {
					&:hover {
						transform-origin: top left;

						&:after {
							top: -300px;
							background-color: lighten($color--mint, 5%);
						}
					}
				}

				&:nth-child(2) {
					&:hover {
						transform-origin: top right;

						&:after {
							top: -150px;
							background-color: $color--primary;
						}
					}
				}

				&:nth-child(3) {
					&:hover {
						transform-origin: bottom left;

						&:after {
							top: -100px;
							background-color: #0b05b4;
						}
					}
				}

				&:hover {
					scale: 1.01;

					&:after {
						transition: 300ms ease-in-out;
						opacity: 0.4;
					}
				}

				&:after {
					content: '';
					width: 100%;
					height: 100vh;
					position: absolute;
					filter: blur(1000px);
					right: -150%;
					opacity: 0.1;
					animation: gradient 15s ease infinite;

					background: radial-gradient(#e66465, #9198e5);
				}

				@keyframes gradient {
					0% {
						background-position: 0% 50%;
					}
					50% {
						background-position: 100% 50%;
					}
					100% {
						background-position: 0% 50%;
					}
				}

				@keyframes hoverBlur {
					0% {
						opacity: 0;
					}

					100% {
						opacity: 1;
					}
				}
			}
		}

		&__menu {
			&--tagline {
				animation: initialHide $animation-duration $cubic;
				h2 {
					animation: swing-in-top-fwd $animation-duration 350ms $cubic
						forwards;
					transform: translateX(0);
				}

				.first {
					opacity: 0;
					animation: swing-in-top-fwd $animation-duration 750ms $cubic
						forwards;
				}

				.last {
					opacity: 0;
					animation: swing-in-top-fwd $animation-duration 1250ms
						$cubic forwards;
				}
			}
		}
		@keyframes spaceInUp {
			0% {
				opacity: 0;
				transform-origin: 50% 0%;
				transform: scale(0.2) translate(0%, -200%);
			}
			100% {
				opacity: 1;
				transform-origin: 50% 0%;
				transform: scale(1) translate(0%, 0%);
			}
		}

		@keyframes swing-in-top-fwd {
			0% {
				transform: rotateX(-100deg);
				transform-origin: top;
				opacity: 0;
			}

			50% {
				opacity: 1;
			}

			100% {
				transform: rotateX(0deg);
				opacity: 1;
				transform-origin: top;
			}
		}

		@keyframes flip-in-hor-bottom {
			0% {
				transform: rotateX(80deg);
				opacity: 0;
			}
			100% {
				transform: rotateX(0);
				opacity: 1;
			}
		}

		@keyframes fadeIn {
			0% {
				opacity: 0;
			}

			90% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		@keyframes fadeInTitle {
			0% {
				filter: blur(3px);
				opacity: 0;
				transform: translateX(-500px);
			}

			50% {
				opacity: 0;
			}

			100% {
				filter: blur(0px);
				transform: translateX(0);

				opacity: 1;
			}
		}

		@keyframes tagline {
			0% {
				color: red;
				opacity: 0;
			}

			100% {
				opacity: 1;
				color: blue;
			}
		}
	}
}

@keyframes fadeOpacity {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}

.gradient-text {
	background: linear-gradient(90deg, $color--secondary 0, #d6b0bc);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

.offcanvas-menu {
	&__menu {
		margin-top: 90px;
		padding: $spacing 36px;
		color: $off-white;
		transition: 250ms ease all;

		h2,
		p {
			font-size: 24px;
		}

		p {
			margin: 0;
			font-size: calc(24px * 0.9);
		}

		span {
			font-size: 24px;
		}

		i {
			position: relative;

			&:after {
				content: '*';
				font-size: 16px;
				position: absolute;
				color: $color--secondary;
				animation: gradientWave 15s repeat;

				@keyframes gradientWave {
					0% {
						background-size: 100% 100%;
					}

					100% {
						background-size: 250% 400%;

						color: red;
					}
				}
			}
		}

		ul {
			margin-top: 50px;
			list-style: none;
			padding: 0;
			opacity: 0;

			li {
				color: $off-white;
				font-size: 38px;
				font-weight: 600;
				line-height: 48px;
				transition-delay: 1s;
				left: -300px;
				opacity: 0;
			}
		}
	}
}

@keyframes fadeInFromLeft {
	0% {
		transform: translateX(-500px);
		filter: blur(3px);
	}

	75% {
		opacity: 0;
	}

	100% {
		left: 0;
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes show {
	0% {
		scale: 0.1;
		opacity: 0;
	}

	50% {
		opacity: 1;
	}

	100% {
		scale: 1;
		opacity: 1 !important;
	}
}

@keyframes tagline {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1 !important;
	}
}

@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translate3d(0, -20%, 0);
	}
	to {
		opacity: 1;
		transform: translate3d(0, 0, 0);
	}
}

.blob__one {
	position: relative;
	width: 440px;
	height: 440px;
}

.child {
	position: absolute;
	top: 0;
	left: 0;
}

@keyframes menuOpen {
	0% {
		background-color: black;
		opacity: 0;
		height: 25px;
		width: 25px;
	}

	50% {
		opacity: 1;
	}

	100% {
		scale: 100;

		@include mobile {
			scale: 70;
		}

		// transform: scale(50);
	}
}

@keyframes rotate {
	0% {
		transform: rotate(0deg);
	}
	100% {
		transform: rotate(360deg);
	}
}

.offcanvas-menu {
	position: absolute;
	width: 33px;
	height: 33px;
	top: 0;
	right: 17px;
	z-index: 5;

	&::before {
		content: '';
		position: absolute;
		width: 25px;
		height: 25px;
		border-radius: 50%;
		background-color: $black-accent;
		transform: scale(1);
		transition: 350ms ease all;
		z-index: -1;
		top: 20px;
		right: -19px;
	}
}

.menu-delay {
	.offcanvas-menu {
		width: 100%;
		height: 100vh;
	}

	.btn--menu {
		position: absolute;
		bottom: 0;
		z-index: 10;
		border-radius: 0.7rem;
		padding: 0.515rem 0.5rem;
		text-emphasis: center;
		background-color: #f0eefe;
		margin-bottom: $spacing;
		margin-left: $spacing;
		color: $black--alternative;
		left: $spacing;

		@include mobile {
			width: 100%;
		}

		&:before {
			content: '';
			background: linear-gradient(
				45deg,
				#ff0000,
				#ff7300,
				#fffb00,
				#48ff00,
				#00ffd5,
				#002bff,
				#7a00ff,
				#ff00c8,
				#ff0000
			);
			position: absolute;
			top: -2px;
			left: -2px;
			background-size: 400%;
			z-index: -1;
			filter: blur(5px);
			width: calc(100% + 4px);
			height: calc(100% + 4px);
			animation: glowing 20s linear infinite;
			opacity: 0;
			transition: opacity 0.3s ease-in-out;
			border-radius: 10px;
		}
		&:after {
			z-index: -1;
			content: '';
			position: absolute;
			width: 100%;
			height: 100%;
			background: #f0eefe;
			left: 0;
			top: 0;
			border-radius: 10px;
		}
		@keyframes glowing {
			0% {
				background-position: 0 0;
			}
			50% {
				background-position: 400% 0;
			}
			100% {
				background-position: 0 0;
			}
		}

		.btn--menu:active {
			color: #000;
		}

		.btn--menu:active:after {
			background: transparent;
		}

		.btn--menu:hover:before {
			opacity: 1;
		}

		&:hover {
			&:before {
				opacity: 1;
			}
			background-color: $color--primary;
		}
	}
}

.header {
	.toggle {
		display: flex;
		margin-right: 32px;

		cursor: pointer;

		svg {
			z-index: 15;
		}

		input {
			display: none;

			& + div {
				width: 20px;
				height: 14px;
				position: relative;

				div {
					position: absolute;
					left: 0;
					top: 0;
					right: 0;
					bottom: 0;
					transition: transform 0.5s ease;

					span {
						display: block;
						position: absolute;
						left: 0;
						right: 0;

						&:first-child {
							top: 0;
							&:before,
							&:after {
								top: 0;
							}
						}

						&:last-child {
							bottom: 0;
							&:before,
							&:after {
								bottom: 0;
							}
						}

						&:before,
						&:after {
							content: '';
							display: block;
							width: 47%;
							height: 2px;
							border-radius: 1px;
							background: $color;
							position: absolute;
							transition: transform 0.5s ease,
								border-radius 0.3s ease, background 0.4s ease;
							z-index: 15;
						}

						&:before {
							left: 0;
							transform-origin: 0 50%;
							transform: translate(1px, 0) scaleX(1.1);
						}

						&:after {
							right: 0;
							transform-origin: 100% 50%;
							transform: translate(-1px, 0) scaleX(1.1);
						}
					}
				}

				svg {
					display: block;
					fill: none;
					stroke: $color;
					stroke-width: 2px;
					width: 44px;
					height: 44px;
					stroke-linecap: round;
					position: absolute;
					left: 50%;
					top: 50%;
					margin: -22px 0 0 -22px;
					stroke-dasharray: 0 82.801 8 82.801;
					stroke-dashoffset: 82.801;
					transform-origin: 50% 50%;
					transform: scale(1);
					transition: stroke-dashoffset 0.5s ease,
						stroke-dasharray 0.6s ease, transform 0.5s ease,
						stroke 0.4s ease;
					&:nth-child(3) {
						transform: rotate(180deg) scale(1);
					}
				}
			}

			&:checked + div {
				div {
					transform: rotate(90deg);

					span {
						&:before,
						&:after {
							background: $active;
						}

						&:first-child {
							&:before {
								transform: rotate(45deg) translate(2.2px, -3px)
									scaleX(1.05);
							}

							&:after {
								transform: rotate(-45deg)
									translate(-2.2px, -3px) scaleX(1.05);
							}
						}

						&:last-child {
							&:before {
								transform: rotate(-45deg) translate(2.2px, 3px)
									scaleX(1.05);
							}

							&:after {
								transform: rotate(45deg) translate(-2.2px, 3px)
									scaleX(1.05);
							}
						}
					}
				}
				svg {
					stroke-dashoffset: 62;
					stroke-dasharray: 0 82.801 62 82.801;
					transform: rotate(90deg);
					stroke: $active;

					&:nth-child(3) {
						transform: rotate(270deg);
					}
				}
			}
		}
	}
}

@include mobile {
	.header {
		.toggle {
			margin-right: 0;
		}
	}
}
